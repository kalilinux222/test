/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

!function(e,t){e(document).ready(function(){var r=e(".cloudZoomAdjustPictureOnProductAttributeValueChange"),a=e(".cloudZoomPictureThumbnailsInCarouselData");if("true"===r.attr("data-isIntegratedByWidget")){var i,l,o="#sevenspikes-cloud-zoom",n=e(o),u=n.attr("data-defaultImageContainerSelector");if(null==u||""===u)return;if(!t.isMobile()&&t.getViewPort().width>980)e(u).each(function(){e(this).find(o).length<=0?i=e(this):l=e(this)}),null!=i&&null!=l&&(i.replaceWith(l),l.show()),function(t){var r=t.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(null!=r&&""!==r){var a=e(r);if(null!=a){var i=t.attr("data-zoomWindowElementId");if(null==i||""===i)return;var l="<div id="+i+' style="position: absolute;"></div>';e(a).prepend(l)}}}(n),e.event.trigger({type:"nopCloudZoomLoadCompletedEvent"});else n.length>0&&e(u).length>1&&n.closest(".gallery").remove()}if(a.length>0){var c=parseInt(a.attr("data-numVisible"))||4,s="true"===a.attr("data-vertical");if(e("#carousel").jcarousel({vertical:s,numVisible:c,scroll:1,wrap:"none",size:parseInt(a.attr("data-size"))||0,rtl:"true"===a.attr("data-rtl")}),"true"===a.attr("data-vertical")){var d=e("#carousel li").outerHeight(!0);e("#carousel").parent().css({height:d*c+"px"})}else e("#carousel").css({width:"20000em","font-size":"13px"});e(".jcarousel-prev, .jcarousel-next").disableTextSelect()}if(e(".cloudZoomEnableClickToZoom").length>0&&e(".picture #wrap").on("click",function(t){t.preventDefault();var r=new Array,a=function(e,t){this.src=e,this.title=t};e(".picture-thumbs a.cloud-zoom-gallery").length<1&&r.push(new a(e(".picture a.cloud-zoom").attr("href"),e(".picture a.cloud-zoom").attr("title"))),e(".picture-thumbs a.cloud-zoom-gallery").each(function(){r.push(new a(e(this).attr("href"),e(this).attr("title")))});for(var i=0,l=0;l<r.length;l++)if(r[l].src===e(".picture a.cloud-zoom").attr("href")){i=l;break}e.magnificPopup.open({items:r,type:"image",removalDelay:300,gallery:{enabled:!0}},i)}),r.length>0){var h=r.attr("data-productId"),p="_fullsize",f="productAttributeValueAdjustmentTable_"+h;e('[id^="product_attribute_"]').each(function(){var t=e(this);t.closest(".product-variant-line").length>0||t.on("change",function(){var r=t.attr("id"),a="";if(t.is(":radio")&&t.is(":checked")||t.is(":checkbox")&&t.is(":checked"))a=window[f][r+p];else if(t.is("select")){var i=t.find("option:selected").index();-1!==i&&(a=window[f][r+p][i])}"string"==typeof a&&""!==a&&(e('.cloud-zoom-gallery[href="'+a+'"]').click(),e.event.trigger({type:"nopMainProductImageChanged",target:t,pictureDefaultSizeUrl:a,pictureFullSizeUrl:a}))})})}})}(jQuery,sevenSpikes);