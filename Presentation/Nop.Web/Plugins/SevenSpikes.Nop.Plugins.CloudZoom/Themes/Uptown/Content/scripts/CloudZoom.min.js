!function(w,t){w(document).ready(function(){CloudZoom.quickStart();var t=w(".cloudZoomAdjustPictureOnProductAttributeValueChange"),n=w(".cloudZoomPictureThumbnailsInCarouselData");if("true"===t.attr("data-isIntegratedByWidget")){var e,o,a="#sevenspikes-cloud-zoom",i=w(a),r=i.attr("data-defaultImageContainerSelector");if(null==r||""===r)return;w(r).each(function(){w(this).find(a).length<=0?e=w(this):o=w(this)}),null!=e&&null!=o&&(e.replaceWith(o),o.show()),function(t){var e=t.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(null!=e&&""!==e){var o=w(e);if(null!=o){var a=t.attr("data-zoomWindowElementId");if(null==a||""===a)return;var i="<div id="+a+' style="position: absolute;"></div>';w(o).prepend(i)}}}(i),w.event.trigger({type:"nopCloudZoomLoadCompletedEvent"});var l=i.attr("data-zoomWindowElementId");w("#cloudZoomImage").bind("cloudzoom_start_zoom",function(){if(l){var t=i.attr("data-zoom-window-width"),e=i.attr("data-zoom-window-height");w("#"+l).width(t),w("#"+l).height(e)}w(".gallery .ribbon-wrapper .ribbon-position").hide()}),w("#cloudZoomImage").bind("cloudzoom_end_zoom",function(){l&&(w("#"+l).css("width",""),w("#"+l).css("height","")),w(".gallery .ribbon-wrapper .ribbon-position").show()})}if(w("#cloudZoomImage").bind("cloudzoom_ready",function(){w(".sevenspikes-cloudzoom-gallery").removeClass("not-loaded");var t,e=w("#cloudZoomImage").data("CloudZoom");(t=e)&&0<t.options.autoInside&&(w(window).width()<t.options.autoInside&&(t.options.captionPosition="bottom"),w(window).resize(function(){w(window).width()<=t.options.autoInside?t.options.captionPosition="bottom":t.options.captionPosition="top"}))}),0<n.length){var u=parseInt(n.attr("data-numVisible"))||5,d=parseInt(n.attr("data-numScrollable"))||u||5,c="true"===n.attr("data-vertical"),s="true"===n.attr("data-rtl"),p=n.attr("data-responsive-breakpoints-for-thumbnails"),m={},g=!c&&s;try{m=JSON.parse(p);for(var h=0;h<m.length;h++)m[h].settings.vertical||(m[h].settings.rtl=s)}catch(t){console.log("Invalid carousel breakpoints setting value!")}w("#picture-thumbs-carousel").slick({rtl:g,infinite:!0,vertical:c,slidesToShow:u,slidesToScroll:d,easing:"swing",draggable:!1,responsive:m})}if(0<w(".cloudZoomEnableClickToZoom").length&&w("#cloudZoomImage").bind("click",function(){w(this).data("CloudZoom").closeZoom();var t=new Array,e=function(t,e){this.src=t,this.title=e};w(".picture-thumbs a.cloudzoom-gallery").length<1&&t.push(new e(w(".picture a.picture-link").attr("data-full-image-url"),w(".picture a.picture-link img").attr("title"))),w(".picture-thumbs a.cloudzoom-gallery").each(function(){w(this).parent().hasClass("slick-cloned")||t.push(new e(w(this).attr("data-full-image-url"),w(this).attr("title")))});for(var o=0,a=0;a<t.length;a++){var i=t[a].src.slice(0,-5);if(-1!==w(".picture a.picture-link img").attr("src").indexOf(i)){o=a;break}}return w.magnificPopup.open({items:t,type:"image",removalDelay:300,gallery:{enabled:!0,tPrev:n.attr("data-magnificpopup-prev"),tNext:n.attr("data-magnificpopup-next"),tCounter:n.attr("data-magnificpopup-counter")},tClose:n.attr("data-magnificpopup-close"),tLoading:n.attr("data-magnificpopup-loading")},o),!1}),0<t.length){var f=t.attr("data-productId"),v="_fullsize",b="productAttributeValueAdjustmentTable_"+f;w('[id^="product_attribute_"]').each(function(){var a=w(this);0<a.closest(".product-variant-line").length||a.on("change",function(){var t=a.attr("id"),e="";if(a.is(":radio")&&a.is(":checked")||a.is(":checkbox")&&a.is(":checked"))e=window[b][t+v];else if(a.is("select")){var o=a.find("option:selected").index();-1!==o&&(e=window[b][t+v][o])}"string"==typeof e&&""!==e&&(w('.cloudzoom-gallery[data-full-image-url="'+e+'"]').click(),w.event.trigger({type:"nopMainProductImageChanged",target:a,pictureDefaultSizeUrl:e,pictureFullSizeUrl:e}))})})}w(document).on("product_attributes_changed",function(t){if(t.changedData&&t.changedData.pictureFullSizeUrl){var e=t.changedData.pictureFullSizeUrl;w('.cloudzoom-gallery[data-full-image-url="'+e+'"]').click(),w.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:e,pictureFullSizeUrl:e})}})})}(jQuery,sevenSpikes);