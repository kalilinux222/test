/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

!function(r){r(document).ready(function(o){var i=o("#quickTabs"),e=i.attr("data-ajaxEnabled"),c=i.attr("data-couldNotLoadTabErrorMessage");e?(o.ajaxSetup({cache:!1}),i.tabs({ajaxOptions:{error:function(e,t,a,d){o(d.hash).html(c)}}}).on("tabsload",function(e,t){o.event.trigger("quickTabsLoadedTab")})):i.tabs(),i.on("click","#add-review",function(){var e,t,a,d,o,c;e=i.attr("data-productReviewsAddNewUrl"),t=r("#AddProductReview_Name").val()||"",a=r("#AddProductReview_BusinessName").val()||"",d=r("#AddProductReview_Title").val()||"",o=r("#AddProductReview_ReviewText").val()||"",c=r('input[name="AddProductReview.Rating"]:radio:checked').val()||"",r("#updateTargetId")[0].style.opacity=.5,r.ajax({cache:!1,type:"POST",url:e,data:"add-review=Submit review&AddProductReview.Name="+t.toString()+"&AddProductReview.BusinessName="+a.toString()+"&AddProductReview.Title="+d.toString()+"&AddProductReview.ReviewText="+o.toString()+"&AddProductReview.Rating="+c.toString()}).done(function(e){r("#updateTargetId")[0].style.opacity=1,r("#updateTargetId").replaceWith(e),r.event.trigger("quickTabsRefreshedTab")}).fail(function(){r("#updateTargetId")[0].style.opacity=1,alert("Failed to add review.")})}).off("click.contactus").on("click.contactus","#send-contact-us-form",function(){var e,t,a,d,o;e=i.attr("data-productContactUsUrl"),t=r(".contact_tab_fullname").val()||"",a=r(".contact_tab_email").val()||"",d=r(".contact_tab_subject").val()||"",o=r(".contact_tab_enquiry").val()||"",r.ajax({cache:!1,type:"POST",url:e,data:{FullName:t,Email:a,Subject:d,Enquiry:o}}).done(function(e){r("#contact-us-tab").replaceWith(e),r.event.trigger("quickTabsRefreshedTab")}).fail(function(){alert("Failed to contact us.")})}).on("click",".product-review-helpfulness .vote",function(){var e=o(this).closest(".product-review-helpfulness"),t=parseInt(e.attr("data-productReviewId"))||0,a=e.attr("data-productReviewVoteUrl");o.ajax({cache:!1,type:"POST",url:a,data:{productReviewId:t,washelpful:o(this).hasClass("vote-yes")}}).done(function(e){o("#helpfulness-vote-yes-"+t).html(e.TotalYes),o("#helpfulness-vote-no-"+t).html(e.TotalNo),o("#helpfulness-vote-result-"+t).html(e.Result).fadeIn("slow").delay(1e3).fadeOut("slow")}).fail(function(){alert("Failed to vote. Please refresh the page and try one more time.")})})})}(jQuery);